---
description: 
globs: 
alwaysApply: true
---
# 交通类算法设计 Cursor Rules

## 项目概述 (Project Overview)
本项目专注于交通流量分析、事件检测和智能交通系统算法设计。主要涉及交通工程理论、算法逻辑设计和系统架构规划。

## 算法设计指导原则 (Algorithm Design Guidelines)

### 设计理念
- **理论驱动**: 基于交通工程理论和实际业务需求
- **模块化设计**: 算法功能独立、接口清晰
- **参数化配置**: 关键阈值和参数可调整
- **鲁棒性**: 处理异常数据和边界情况
- **可扩展性**: 支持不同类型设施和场景

## 交通工程专业规范 (Traffic Engineering Standards)

### 交通流参数标准
- **流量(Flow)**: 单位时间通过断面的车辆数，单位：veh/h, veh/5min
- **速度(Speed)**: 车辆行驶速度，单位：km/h
- **密度(Density)**: 单位长度道路上的车辆数，单位：veh/km
- **饱和度(V/C Ratio)**: 流量与通行能力比值，无量纲
- **服务水平(Level of Service)**: A-F六个等级

### 时间处理规范
- 统一使用ISO 8601格式：`YYYY-MM-DD HH:MM:SS`
- 时间间隔标准：5分钟、15分钟、1小时、1天
- 时区处理：统一使用本地时区，明确标注
- 历史数据窗口：30天、90天、365天

### 数据质量标准
- **完整性检查**: 缺失值比例<5%
- **一致性检查**: 流量数据逻辑合理性
- **准确性检查**: 异常值检测和处理
- **时效性检查**: 数据延迟<2分钟

## 算法设计方法论 (Algorithm Design Methodology)

### 设计流程
1. **需求分析** - 明确算法目标和约束条件
2. **理论建模** - 基于交通工程理论建立数学模型
3. **逻辑设计** - 设计算法流程和判别逻辑
4. **参数确定** - 基于历史数据和专业经验确定参数
5. **边界处理** - 考虑异常情况和边界条件
6. **性能评估** - 定义评估指标和验证方法

### 算法性能指标
- **实时性**: 5分钟数据处理延迟<30秒
- **准确性**: 事件检测准确率>90%，误报率<5%
- **稳定性**: 算法在各种数据条件下表现稳定
- **可解释性**: 算法逻辑清晰，结果可追溯

### 算法模块化原则
- **功能单一**: 每个算法模块职责明确
- **接口标准**: 输入输出格式统一
- **参数外置**: 关键参数可配置调整
- **状态管理**: 算法状态变化可追踪

## 算法设计文档规范 (Algorithm Design Documentation)

### 算法设计文档结构
```
算法名称: [算法功能简述]

1. 算法目标
   - 主要功能
   - 应用场景
   - 预期效果

2. 理论基础
   - 相关交通工程理论
   - 数学模型
   - 参考标准

3. 算法逻辑
   - 输入数据格式
   - 处理流程
   - 输出结果格式
   - 关键判别条件

4. 参数设置
   - 关键参数定义
   - 参数取值依据
   - 参数调整策略

5. 边界条件
   - 异常数据处理
   - 边界情况处理
   - 容错机制

6. 性能评估
   - 评估指标
   - 测试方法
   - 预期性能
```

### 算法流程图规范
- 使用标准流程图符号
- 明确判断条件和分支逻辑
- 标注关键参数和阈值
- 包含异常处理路径

## 算法参数配置规范 (Algorithm Parameter Configuration)

### 参数分类
- **阈值参数**: 用于判别的临界值
- **时间参数**: 时间窗口和持续时间
- **权重参数**: 不同因子的重要性权重
- **容错参数**: 异常处理和边界条件

### 参数配置原则
- **理论依据**: 基于交通工程理论确定
- **数据驱动**: 结合历史数据统计分析
- **专家经验**: 参考行业标准和专家建议
- **动态调整**: 支持根据实际效果调整

### 典型参数设置示例
```
流量激增检测参数:
- 增长率阈值: 30% (基于历史波动分析)
- 最小持续时间: 15分钟 (避免短暂波动)
- 服务水平阈值: D级以上 (V/C≥0.8)
- 恢复判定阈值: 10% (相对激增前水平)

时间窗口参数:
- 即时窗口: 15-30分钟
- 基准窗口: 同期历史30天
- 趋势窗口: 2小时
- 事件合并间隔: 10分钟
```

## 算法验证方法 (Algorithm Validation Methods)

### 验证策略
1. **理论验证** - 算法逻辑与交通工程理论一致性
2. **历史验证** - 使用历史事件数据回测
3. **仿真验证** - 构造典型场景测试
4. **专家评估** - 交通工程专家评审

### 评估指标体系
- **准确性指标**: 检测率、误报率、漏报率
- **时效性指标**: 检测延迟、处理时间
- **稳定性指标**: 不同条件下性能一致性
- **实用性指标**: 实际应用效果评估

## 算法优化策略 (Algorithm Optimization Strategy)

### 优化方向
- **算法逻辑优化**: 改进判别条件和流程
- **参数优化**: 基于实际数据调整参数
- **计算优化**: 提高算法执行效率
- **适应性优化**: 增强对不同场景的适应能力

### 持续改进机制
- **性能监控**: 持续跟踪算法性能指标
- **反馈收集**: 收集用户和专家反馈
- **版本管理**: 算法版本迭代和回滚机制
- **知识积累**: 总结经验和最佳实践

---


**注意**: 算法设计应遵循交通工程专业标准，确保理论正确性和实际可用性。 